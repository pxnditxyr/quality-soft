---
import { Icon } from 'astro-icon/components'
import Navbar from '@/modules/shared/components/ui/Navbar.astro'

const links = [
  {
    title: 'Usuarios',
    href: '/admin/users',
    icon: 'mdi:account-group',
  },
  {
    title: 'servicios',
    href: '/admin/services',
    icon: 'mdi:briefcase',
  },
  {
    title: 'proyectos',
    href: '/admin/projects',
    icon: 'mdi:webpack',
  },
  {
    title: 'Nuestro Equipo',
    href: '/admin/team',
    icon: 'mdi:account-group',
  },
  {
    title: 'Mensajes',
    href: '/admin/contact',
    icon: 'mdi:message-text',
  },
  {
    title: 'Info del Sitio',
    href: '#contact',
    icon: 'mdi:information',
  }
]

---

<Navbar links={ links }>
  <button
    class="flex items-center space-x-2 text-red-500 signout-button"
  >
    <Icon name="mdi:logout" size={ 24 } />
    Cerrar Sesi√≥n
  </button>
</Navbar>

<script>
import { navigate } from 'astro:transitions/client'
const { signOut } = await import( 'auth-astro/client' )

const signoutButtons = document.querySelectorAll( '.signout-button' )

signoutButtons.forEach( button => {
  button.addEventListener( 'click', async () => {
    await signOut()
    navigate( '/auth/signin' )
  } )
} )

</script>
